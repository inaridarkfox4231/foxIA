# foxIA
foxIA公開してみようかしら  
cdn: https://inaridarkfox4231.github.io/foxIA/foxIA.js  
  
ふぉっくすあいえー（読み方）  
  
キャンバスのインタラクションを柔軟に記述するための自分用ライブラリ  
他の人が使いやすいかどうかは分かんないです  
インスパイア元：  
p5.EasyCam：https://github.com/freshfork/p5.EasyCam  
pavelさんの流体シミュレーション（ポインターの概念はここから拝借した）：  
  https://github.com/PavelDoGreat/WebGL-Fluid-Simulation  
ピンチイン、ピンチアウトが楽に記述できるのはセールスポイントかもしれないです。  
  
応用：sayoさんの3D Drawing：https://openprocessing.org/sketch/2277705  
PointerPrototypeの継承という、数ある使い方のうちの一つを使って記述することで、  
マウス、タッチ、スタイラスペンのいずれでも同じように動作する処理が書けました。  
スマホだとマルチタッチが可能です。複数の箇所で同時に動作します。  

マウススクロールで位置計算がバグるのを修正(2024/10/14)  

なんか公開したとたんに大したことない気がしてきた  
まあ自分が使って便利ならそれでいいか  

ひとつだけ  
p5.jsでは現在、mousePressed()ではタッチ操作の代わりができなくなっています。  
詳しくは：https://github.com/processing/p5.js/issues/7195  

応用：お天気APIを使った簡易天気予報：https://openprocessing.org/sketch/2385483  
これのスクロールで地味に活躍してます  
ホイール、タッチスワイプ、マウスドラッグのいずれでもページを進められるんですが、  
統一的に書くのに非常に重宝してます。

p5が悪いわけではないと思うのですが、  
マウスでもタッチでも自由に特に気にせずに書けるように  
そういうコンセプトで、今のどっちつかずのシステムを作ったようです  
しかし上のコードを見ればわかるように、両者で同じ挙動を書くのは実はそれほど難しくなく、  
同じメソッドを用意して別々に書けば済む話ですから  
急がば回れということですね。  
問題点は2つあります。  
まずマウスとタッチでは根本的に事情が異なるのに同じようなメソッドが用意されていて、  
簡易的である反面、差異が出てくるところで不具合が生じやすい所。  
引数にeしか取れない場合がほとんどなのでメソッドを書くのも一苦労です。  
もうひとつは  
上でも述べたように現在、mousePressedはtouchStartedの代わりを果たしていません  
レファレンスのここ：https://p5js.org/reference/p5/mousePressed/  
2番目の例はタッチでは機能しません（スタイラスペンを使うと反応しないのが分かる）  
1.9.1で発生したバグです  
つまりマウスとタッチを分けろという突然の勧告です  
そういった不安定さもあるので、自前でいろいろ書く必要性が今まで以上に求められています。
